{"version":3,"sources":["components/Hello.tsx","index.tsx"],"names":["audio","Hello","DIV_ELEMENT","useRef","DIV_ELEMENT2","DIV_ELEMENT3","INPUT_ELEMENT","useState","visible","setVisible","loading","setLoading","addmusic","setAddmusic","remove_music","setRemoveMusic","PLAYLIST","SET_PLAY_LIST","REMOVE_LIST","SET_REMOVE_LIST","isStop","setisStop","isPlay","setisPlay","useEffect","a","fetch","process","response","json","GetPlayList","CheckURL","current","value","data","url","method","headers","body","JSON","stringify","message","style","display","classList","add","innerHTML","length","RemoveMusic","e","filename","target","previousSibling","remove","id","onClick","className","xmlns","height","viewBox","width","d","fill","button","document","querySelectorAll","ref","Play","child","children","i","animation","animationDelay","random","min","max","Math","floor","undefined","pause","Audio","play","splice","addEventListener","type","placeholder","spellCheck","onKeyUp","map","v","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9bf45463.chunk.js","sourcesContent":["import { useRef, useState, useEffect } from 'react'\r\nimport '../scss/Hello.scss'\r\nlet audio: any\r\n\r\nconst Hello = () => {\r\n  \r\n  const DIV_ELEMENT = useRef<HTMLDivElement>(null)\r\n  const DIV_ELEMENT2 = useRef<HTMLDivElement>(null)\r\n  const DIV_ELEMENT3 = useRef<HTMLDivElement>(null)\r\n  const INPUT_ELEMENT = useRef<HTMLInputElement>(null)\r\n  const [visible, setVisible]: any = useState(false)\r\n  const [loading, setLoading]: any = useState(false)\r\n  const [addmusic, setAddmusic]: any = useState(false)\r\n  const [remove_music, setRemoveMusic]: any = useState(false)\r\n  const [PLAYLIST, SET_PLAY_LIST]: any = useState([])\r\n  const [REMOVE_LIST, SET_REMOVE_LIST]: any = useState([])\r\n  const [isStop, setisStop]: any = useState(true)\r\n  const [isPlay, setisPlay]: any = useState(false)\r\n\r\n  useEffect(() => { \r\n    const GetPlayList = async () => {\r\n      const response = await fetch(process.env.REACT_APP_URL + '/init')\r\n      let json = await response.json()\r\n      SET_PLAY_LIST(json)\r\n      SET_REMOVE_LIST(json)\r\n    }\r\n    GetPlayList()\r\n  }, [])\r\n\r\n  const CloseSubTag = () => {\r\n    if(visible) setVisible(false)\r\n  }\r\n\r\n  const ShowSettings = () => {\r\n    visible ? setVisible(false) : setVisible(true)\r\n  }\r\n\r\n  const CheckURL = async () => {\r\n    if(INPUT_ELEMENT.current?.value !== '') {\r\n      setLoading(true)\r\n\r\n      type Data = {\r\n        url: string | undefined\r\n      }\r\n\r\n      let data: Data = {\r\n        url: INPUT_ELEMENT.current?.value\r\n      }\r\n      const response = await fetch(process.env.REACT_APP_URL + '/backend/extract', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json;charset=utf-8'\r\n        },\r\n        body: JSON.stringify(data)\r\n      })\r\n  \r\n      const result = await response.json()\r\n      \r\n      if(result.message === 'Success') {\r\n        DIV_ELEMENT2.current!.style.display = 'block'\r\n        DIV_ELEMENT2.current!.classList.add('success')\r\n        DIV_ELEMENT2.current!.innerHTML = '곡이 등록되었습니다'\r\n        setLoading(false)\r\n      } else {\r\n        DIV_ELEMENT2.current!.style.display = 'block'\r\n        DIV_ELEMENT2.current!.classList.add('fail')\r\n        DIV_ELEMENT2.current!.innerHTML = '유효하지 않은 URL 입니다'\r\n        setLoading(false)\r\n      }\r\n    } else {\r\n      setLoading(false)\r\n    }\r\n\r\n    if(INPUT_ELEMENT.current?.value.length === 0) {\r\n      DIV_ELEMENT2.current!.style.display = 'none'\r\n      DIV_ELEMENT2.current!.innerHTML = ''\r\n    }\r\n  }\r\n\r\n  const GetRandom = (min: number, max: number) => {\r\n    return Math.floor(Math.random() * (max - min) + min)\r\n  }\r\n\r\n  const Play = () => {\r\n    if(PLAYLIST.length !== 0) {\r\n      DIV_ELEMENT3.current!.style.display = 'block'\r\n      const child: any = DIV_ELEMENT.current?.children\r\n      for(let i = 0; i < child.length; i++) { child[i].style.animation = 'animate 1s linear infinite' }\r\n      child[0].style.animationDelay = '0s'\r\n      child[1].style.animationDelay = '0.3s'\r\n      child[2].style.animationDelay = '0.6s'\r\n      child[3].style.animationDelay = '0.9s'\r\n      child[4].style.animationDelay = '0.2s'\r\n      child[5].style.animationDelay = '0.5s'\r\n      child[6].style.animationDelay = '0.8s'\r\n      setisPlay(true)\r\n      if(!isStop) setisStop(true)\r\n      let random = GetRandom(0, PLAYLIST.length)\r\n      if(audio !== undefined) audio.pause()\r\n      // audio = new Audio('hello/AKMU - FREEDOM (AUDIO).mp3')\r\n      audio = new Audio('/hello/mp3/' + PLAYLIST[random])\r\n      audio.play()\r\n      PLAYLIST.splice(random, 1)\r\n      audio.addEventListener('ended', Play)\r\n    } \r\n  }\r\n  \r\n  const Stop = () => {\r\n    if(audio !== undefined) {\r\n      DIV_ELEMENT3.current!.style.display = 'none'\r\n      const child: any = DIV_ELEMENT.current?.children\r\n      for(let i = 0; i < child.length; i++) { child[i].style.animation = '' }\r\n      audio.pause()\r\n      setisPlay(false)\r\n      setisStop(false)\r\n    } \r\n  }\r\n  const Restart = () => {\r\n    if(audio !== undefined) {\r\n      DIV_ELEMENT3.current!.style.display = 'block'\r\n      const child: any = DIV_ELEMENT.current?.children\r\n      for(let i = 0; i < child.length; i++) { child[i].style.animation = 'animate 1s linear infinite' }\r\n      child[0].style.animationDelay = '0s'\r\n      child[1].style.animationDelay = '0.3s'\r\n      child[2].style.animationDelay = '0.6s'\r\n      child[3].style.animationDelay = '0.9s'\r\n      child[4].style.animationDelay = '0.2s'\r\n      child[5].style.animationDelay = '0.5s'\r\n      child[6].style.animationDelay = '0.8s'\r\n      audio.play()\r\n      setisStop(true)\r\n    }\r\n  }\r\n\r\n  const CloseAddMusic = () => {\r\n    setAddmusic(false)\r\n    setLoading(false)\r\n  }\r\n\r\n  const OpenRemoveModal = () => {\r\n    setRemoveMusic(true)\r\n    const button: any = document.querySelectorAll('.control-button')\r\n    button[0].style.display = 'none'\r\n    button[1].style.display = 'none'\r\n    DIV_ELEMENT3.current!.style.display = 'none'\r\n  }\r\n\r\n  const RemoveMusic = async (e: any) => {\r\n\r\n    type DeleteDate = {\r\n      filename: string\r\n    }\r\n\r\n    let data: DeleteDate = {\r\n      filename: e.target.previousSibling.innerHTML\r\n    }\r\n\r\n    const response = await fetch(process.env.REACT_APP_URL + '/backend/delete', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=utf-8'\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n    const result = await response.json()\r\n\r\n    if(result.message === 'Success') {\r\n      e.target.previousSibling.remove()\r\n      e.target.remove()\r\n    } else {\r\n\r\n    }\r\n  }\r\n  const CloseRemoveModal = () => {\r\n    setRemoveMusic(false)\r\n    const button: any = document.querySelectorAll('.control-button')\r\n    button[0].style.display = 'block'\r\n    button[1].style.display = 'block'\r\n    if(isPlay) DIV_ELEMENT3.current!.style.display = 'block'\r\n  }\r\n\r\n  return (\r\n    <div id='hello' onClick={CloseSubTag}>\r\n      <header>\r\n        <div className='logo'>Hello!</div>\r\n        <div className='settings' onClick={ShowSettings}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><g><path d=\"M0,0h24v24H0V0z\" fill=\"none\"/><path d=\"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z\"/></g></svg>\r\n        </div>\r\n        {visible?\r\n        <ul>\r\n          <li onClick={()=>setAddmusic(true)}>곡 등록</li>\r\n          <li onClick={OpenRemoveModal}>곡 삭제</li>\r\n        </ul>\r\n        : null}\r\n      </header>\r\n      <section>\r\n        <div className='status-wrapper' ref={DIV_ELEMENT3}>\r\n          <div className='music-wave-loader' ref={DIV_ELEMENT}>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n          </div>\r\n        </div>\r\n        <div className='control-wrapper'>\r\n          <button className='control-button' onClick={Play}>PLAY</button>\r\n          { isStop ? <button className='control-button' onClick={Stop}>STOP</button> : <button className='control-button' onClick={Restart}>RESTART</button> }\r\n        </div>\r\n      </section>\r\n      <footer>\r\n\r\n      </footer>\r\n      { addmusic?\r\n      <div className='add-music-wrapper'>\r\n          <input type='text' placeholder='유튜브 링크를 입력하세요' spellCheck={false} ref={INPUT_ELEMENT} onKeyUp={CheckURL} />\r\n          { loading ? \r\n            <div className='loading-wrapper'>\r\n              <div className='loading'></div>\r\n            </div>\r\n          : null }\r\n          <div className='add-result' ref={DIV_ELEMENT2}></div>\r\n          <div className='close-add-music' onClick={CloseAddMusic}>닫기</div>\r\n      </div> \r\n      : null }\r\n      {\r\n      remove_music?\r\n      <div className='remove-modal'>\r\n            <div className='modal-overlay'></div>\r\n            <div className='modal-wrapper'>\r\n              <div className='modal-header'>\r\n                REMOVE LIST\r\n              </div>\r\n              <div className='modal-contents'>\r\n                {REMOVE_LIST.map((v: any, i:any) => (\r\n                <ul>\r\n                  <li key={i}>{v}</li><span onClick={RemoveMusic}>x</span>\r\n                </ul>\r\n                ))}\r\n                {/* <ul>\r\n                  <li>YOU THINK I'M STUPID? YOU THINK I'M CRAZY</li><span onClick={RemoveMusic}>x</span>\r\n                </ul> */}\r\n              </div>\r\n              <div className='modal-footer' onClick={CloseRemoveModal}>닫기</div>\r\n            </div>\r\n      </div>\r\n      : null }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Hello\r\n","import ReactDOM from 'react-dom'\r\nimport Hello from './components/Hello'\r\n\r\nReactDOM.render(\r\n  <Hello />\r\n  ,document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}