{"version":3,"sources":["components/Hello.tsx","index.tsx"],"names":["Hello","DIV_ELEMENT","useRef","DIV_ELEMENT2","INPUT_ELEMENT","useState","visible","setVisible","loading","setLoading","addmusic","setAddmusic","playlist","setPlaylist","useEffect","a","fetch","process","response","json","GetPlayList","CheckURL","current","value","data","url","method","headers","body","JSON","stringify","message","style","display","classList","add","innerHTML","length","GetRandom","min","max","Math","floor","random","id","onClick","className","ref","child","children","i","animation","animationDelay","audio","Audio","play","addEventListener","type","placeholder","spellCheck","onKeyUp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.867e9b67.chunk.js","sourcesContent":["import { useRef, useState, useEffect } from 'react'\r\nimport '../scss/Hello.scss'\r\n\r\nconst Hello = () => {\r\n\r\n  const DIV_ELEMENT = useRef<HTMLDivElement>(null)\r\n  const DIV_ELEMENT2 = useRef<HTMLDivElement>(null)\r\n  const INPUT_ELEMENT = useRef<HTMLInputElement>(null)\r\n  const [visible, setVisible]: any = useState(false)\r\n  const [loading, setLoading]: any = useState(false)\r\n  const [addmusic, setAddmusic]: any = useState(false)\r\n  const [playlist, setPlaylist]: any = useState([])\r\n\r\n  useEffect(() => { \r\n    const GetPlayList = async () => {\r\n      const response = await fetch(process.env.REACT_APP_URL + '/init')\r\n      let json = await response.json()\r\n      setPlaylist(json)\r\n    }\r\n    GetPlayList()\r\n  }, [])\r\n\r\n  const CloseSubTag = () => {\r\n    if(visible) setVisible(false)\r\n  }\r\n\r\n  const ShowSettings = () => {\r\n    visible ? setVisible(false) : setVisible(true)\r\n  }\r\n\r\n  const CheckURL = async () => {\r\n    if(INPUT_ELEMENT.current?.value !== '') {\r\n      setLoading(true)\r\n\r\n      type Data = {\r\n        url: string | undefined\r\n      }\r\n\r\n      let data: Data = {\r\n        url: INPUT_ELEMENT.current?.value\r\n      }\r\n      const response = await fetch(process.env.REACT_APP_URL + '/backend/extract', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json;charset=utf-8'\r\n        },\r\n        body: JSON.stringify(data)\r\n      })\r\n  \r\n      const result = await response.json()\r\n      \r\n      if(result.message === 'Success') {\r\n        DIV_ELEMENT2.current!.style.display = 'block'\r\n        DIV_ELEMENT2.current!.classList.add('success')\r\n        DIV_ELEMENT2.current!.innerHTML = '곡이 등록되었습니다'\r\n        setLoading(false)\r\n      } else {\r\n        DIV_ELEMENT2.current!.style.display = 'block'\r\n        DIV_ELEMENT2.current!.classList.add('fail')\r\n        DIV_ELEMENT2.current!.innerHTML = '유효하지 않은 URL 입니다'\r\n        setLoading(false)\r\n      }\r\n    } else {\r\n      setLoading(false)\r\n    }\r\n\r\n    if(INPUT_ELEMENT.current?.value.length === 0) {\r\n      DIV_ELEMENT2.current!.style.display = 'none'\r\n      DIV_ELEMENT2.current!.innerHTML = ''\r\n    }\r\n  }\r\n\r\n  const GetRandom = (min: number, max: number) => {\r\n    return Math.floor(Math.random() * (max - min) + min)\r\n  }\r\n\r\n  const Play = () => {\r\n\r\n    const child: any = DIV_ELEMENT.current?.children\r\n    \r\n    for(let i = 0; i < child.length; i++) { child[i].style.animation = 'animate 1s linear infinite' }\r\n    child[0].style.animationDelay = '0s'\r\n    child[1].style.animationDelay = '0.3s'\r\n    child[2].style.animationDelay = '0.6s'\r\n    child[3].style.animationDelay = '0.9s'\r\n    child[4].style.animationDelay = '0.2s'\r\n    child[5].style.animationDelay = '0.5s'\r\n    child[6].style.animationDelay = '0.7s'\r\n    // DIV_ELEMENT.current!.style.height = '50px'\r\n  \r\n\r\n    let random = GetRandom(0, playlist.length)\r\n    let audio = new Audio(process.env.REACT_APP_URL + '/hello/mp3/' + playlist[random])\r\n    audio.play()\r\n    audio.addEventListener('ended', function () {\r\n      random = GetRandom(0, playlist.length)\r\n      audio = new Audio('/hello/mp3/' + playlist[random])\r\n      audio.play()\r\n    })\r\n\r\n  }\r\n\r\n  const CloseAddMusic = () => {\r\n    setAddmusic(false)\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <div id='hello' onClick={CloseSubTag}>\r\n      <header>\r\n        <div className='logo'>Hello!</div>\r\n        <div className='settings' onClick={ShowSettings}></div>\r\n        {visible?\r\n        <ul>\r\n          <li onClick={()=>setAddmusic(true)}>곡 등록</li>\r\n          <li>곡 삭제</li>\r\n        </ul>\r\n        : null}\r\n      </header>\r\n      <section>\r\n        <div className='status-wrapper'>\r\n          <div className='music-wave-loader' ref={DIV_ELEMENT}>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n          </div>\r\n        </div>\r\n        <div className='control-wrapper'>\r\n          <button onClick={Play}>PLAY</button>\r\n        </div>\r\n      </section>\r\n      <footer>\r\n\r\n      </footer>\r\n      { addmusic?\r\n      <div className='add-music-wrapper'>\r\n          <input type='text' placeholder='유튜브 링크를 입력하세요' spellCheck={false} ref={INPUT_ELEMENT} onKeyUp={CheckURL} />\r\n          { loading ? \r\n          <div className='loading-wrapper'>\r\n            <div className='loading'></div>\r\n          </div>\r\n          : null }\r\n          <div className='add-result' ref={DIV_ELEMENT2}></div>\r\n          <div className='close-add-music' onClick={CloseAddMusic}>닫기</div>\r\n      </div> \r\n      : null }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Hello\r\n","import ReactDOM from 'react-dom'\nimport Hello from './components/Hello'\n\nReactDOM.render(\n  <Hello />\n  ,document.getElementById('root')\n)\n"],"sourceRoot":""}